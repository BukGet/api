var Template=Class.$extend({type:"jSmart",data:"",vars:"",el:"",__init__:function(a){this.path(a)},path:function(a){this.url=a;return this},on:function(a){this.fn=a;return this},html:function(a){this.el=a;return this},args:function(a){this.vars=a;return this},append:function(){if(!this.url||!this.on||!this.vars)return this;this.data=this.$fetch(this.url);if(this.type.equals("Moustache"))this.el&&$(this.el).append(Mustache.to_html(this.data,this.vars));else if(this.type.equals("jSmart")){var a=new jSmart(this.data);
this.el&&$(this.el).append(a.fetch(this.vars))}return this},parse:function(){if(!this.url||!this.on||!this.vars)return this;this.data=this.$fetch(this.url);if(this.type=="Moustache")this.el&&$(this.el).html(Mustache.to_html(this.data,this.vars));else if(this.type.equals("jSmart")){var a=new jSmart(this.data);this.el&&$(this.el).html(a.fetch(this.vars))}return this}});